<!DOCTYPE html>
<html lang="en">
  <head>
    <script
    crossorigin="anonymous"
    type="application/javascript"
    src="https://cdn.jsdelivr.net/npm/@qlik/embed-web-components/dist/index.min.js"
    data-host="https://kassovitz.us.qlikcloud.com"
    data-client-id="d61ad726ce6aa0e5715193739282487f"
    data-get-access-token="getAccessToken"
    data-auth-type="Oauth2"
    >
    </script>

    <script>
      async function getAccessToken() {

        console.log("getAccessToken");

        const response = await fetch("/access-token", {
          method: "POST",
          credentials: "include",
          mode: "same-origin",
          redirect: "follow",
        });
        if (response.status === 200) {
          return response.text();
        }
        const err = new Error("Unexpected serverside authentication error");
        err.status = response.status;
        err.detail;
        throw err;
      }
    </script>

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
      }
      .app {
        position: relative;
        width: 100%;
        height: calc(100vh - 180px);
        border: 1px solid #bbb;
        border-radius: 3px;
        box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.2);
      }
      .row {
        display: flex;
        width: 100%;
      }
      .object {
        position: relative;
        flex: 1;
        height: 400px;
      }
    </style>
  </head>
  <body>
    <h1>Embedding single objects</h1>

      <div class="row">
        <div class="object">
          <qlik-embed
          ui="object"
          app-id="d6152f1d-c366-4471-8aa6-7ae473e63f59"
          object-id="vLBzTah"
          >
          </qlik-embed>
        </div>
        <div class="object">
          <qlik-embed
          id="visualization"
          ui="object"
          app-id="d6152f1d-c366-4471-8aa6-7ae473e63f59"
          object-id="mTjVeM"
          context:json="{theme:'breeze', constraints:{select: true}}"
          >
          </qlik-embed>
        </div>
        <div class="object">
          <qlik-embed
          ui="object"
          app-id="d6152f1d-c366-4471-8aa6-7ae473e63f59"
          object-id="vLBzTah"
          >
          </qlik-embed>
        </div>
      </div>
  </body>
</html>